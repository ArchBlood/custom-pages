/**
 * plugin.js
 *
 * @link https://www.humhub.org/
 * @copyright Copyright (c) 2022 HumHub GmbH & Co. KG
 * @license https://www.humhub.com/licences
 * @author Lucas Bartholemy <lucas@bartholemy.com>
 */
tinymce.PluginManager.add("wrapper",(function(e,t){const d=e.getParam("wrapper"),n='<div class="panel panel-default"><div class="panel-body">',a="</div></div>";e.contentStyles.push(".panel.panel-default {background:#ededed; padding:5px; margin:-1rem}.panel .panel-body {background:#fff; border-radius:4px; box-shadow:0 0 3px #dadada; padding:10px}");const o=()=>{const t=e.dom.getRoot().childNodes;return 1===t.length&&e.dom.is(t[0],"div.panel.panel-default")&&1===t[0].childNodes.length&&e.dom.is(t[0].childNodes[0],"div.panel-body")};e.ui.registry.addToggleButton("wrapper",{icon:"unselected",text:d.text,tooltip:d.tooltip,onAction:t=>{const d=e.getContent();o()?(e.setContent(d.replace(/^<div class="panel panel-default">.*?<div class="panel-body">(.+?)<\/div>.*?<\/div>$/is,"$1")),t.setActive(!1)):(e.setContent(n+d+a),t.setActive(!0))},onSetup:e=>{e.setActive(o())}})}));
